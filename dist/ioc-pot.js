!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.IocPot=r():e.IocPot=r()}(self,(function(){return(()=>{"use strict";var e={392:(e,r,t)=>{t.r(r),t.d(r,{Pot:()=>f});const s=(e,r)=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1)};class n extends Error{constructor(){super("list is empty"),this.name="HasNoElementError"}}class o extends Error{constructor(){super("list is not one"),this.name="HasMultipleElementError"}}class c extends Error{constructor(){super("not implemented"),this.name="NotImplementedError"}}Error;class i extends Error{constructor(){super("there is circular reference or not defined reference"),this.name="UnresolvedError"}}class a extends Error{constructor(){super("ingredient not found"),this.name="IngredientNotFoundError"}}class u extends Error{constructor(){super("same name defined"),this.name="DuplicateNameError"}}class l extends Error{constructor(){super("ingredient is lacked"),this.name="IngredientLackError"}}class h extends class{constructor(){this.cache=null}produce(e){return null===this.cache&&(this.cache=this.makeOnce(e)),this.cache}makeOnce(e){throw new c}}{constructor(e){super(),this.recipe=r=>new(e.bind.apply(e,[null].concat(r)))}makeOnce(e){return this.recipe(e)}}class d{constructor(e,r,t){this.name=e,this.dependencies=r,this.provider=t}}class p{constructor(e,r,t){this.name=e,this.dependencies=r,this.provider=t}createIngredient(e){if(!this.isConstructableFrom(e))throw new l;const r={};e.forEach((e=>r[e.name]=e));const t=this.dependencies.map((e=>r[e]));return new d(this.name,t,this.provider)}isConstructableFrom(e){const r=e.map((e=>e.name));return this.dependencies.every((e=>{return t=e,-1!==r.indexOf(t);var t}))}}class _{constructor(e){const r={};e.forEach((e=>r[e.name]=e)),this.__ingredientsHash=r}create(e){const r=this.__ingredientsHash[e];if(void 0!==r)return this.__produce(r);throw new a}__produce(e){const r=e.dependencies.map((e=>this.__produce(e)));return e.provider.produce(r)}}class m{constructor(){}produce(e){this.__ensureUnique(e);const r=e.slice(),t=[];for(;r.length>0;){const e=r.length;if(r.forEach((e=>{e.isConstructableFrom(t)&&(t.push(e.createIngredient(t)),s(r,e))})),e===r.length)throw new i}return new _(t)}__ensureUnique(e){if(r=e.map((e=>e.name)),new Set(r).size!==r.length)throw new u;var r}}Error;const f=class{constructor(){this.__recipes=[],this.__aliasesHashMap={},this.__container=null}define(e,r,t){this.__recipes.push(new p(e,t,new h(r)))}alias(e,r){this.__aliasesHashMap[e]=r}resolve(){const e=this.__resolveAliases();this.__container=(new m).produce(((...e)=>{let r=[];return e.forEach((e=>{r=r.concat(e)})),r})(this.__recipes,e))}locate(e){return null===this.__container?null:this.__container.create(e)}__resolveAliases(){return Object.keys(this.__aliasesHashMap).map((e=>{const r=this.__aliasesHashMap[e],t=this.__findRecipe(r);return new p(e,t.dependencies,t.provider)}))}__findRecipe(e){return(e=>{switch(e.length){case 0:throw new n;case 1:return e[0];default:throw new o}})(this.__recipes.filter((r=>r.name===e)))}}}},r={};function t(s){if(r[s])return r[s].exports;var n=r[s]={exports:{}};return e[s](n,n.exports,t),n.exports}return t.d=(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(392)})()}));